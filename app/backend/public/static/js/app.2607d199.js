(function(){"use strict";var e={9307:function(e,a,n){var r=n(5130),i=n(6768);function o(e,a,n,r,o,t){const l=(0,i.g2)("Bookshelf");return(0,i.uX)(),(0,i.Wv)(l)}var t=n(4232);const l={class:"book-container"},g={class:"book-filter column"},s=["value"],u=["min","max"],m=["min","max"],p={class:"value"},c=["value"],f=["value"],d=["value"],v=["min","max"],_=["min","max"],k={class:"value"},h={class:"column selected-books"},b={key:0},y={key:1,class:"book-grid"},L=["src","alt"],E={class:"age-rating"},j={class:"rating-container"},x={class:"column recommended-books"},C={key:0},R={key:1,class:"book-grid"},w=["src","alt"],K={class:"age-rating"},T={class:"rating-container"};function O(e,a,n,o,O,X){return(0,i.uX)(),(0,i.CE)(i.FK,null,[a[25]||(a[25]=(0,i.Lk)("div",{class:"title"},[(0,i.Lk)("h1",null,"Помічник з пошуку літератури")],-1)),(0,i.Lk)("div",l,[(0,i.Lk)("div",g,[a[22]||(a[22]=(0,i.Lk)("h2",null,"Фільтра",-1)),(0,i.Lk)("label",null,[a[11]||(a[11]=(0,i.eW)(" Жанр: ")),(0,i.bo)((0,i.Lk)("select",{"onUpdate:modelValue":a[0]||(a[0]=e=>o.filters.genre=e)},[a[10]||(a[10]=(0,i.Lk)("option",{value:""},"Всі",-1)),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o.genre,((e,a)=>((0,i.uX)(),(0,i.CE)("option",{key:a,value:a},(0,t.v_)(e),9,s)))),128))],512),[[r.u1,o.filters.genre]])]),(0,i.Lk)("label",null,[a[12]||(a[12]=(0,i.eW)(" Вартість: ")),(0,i.Lk)("div",null,[(0,i.bo)((0,i.Lk)("input",{type:"number","onUpdate:modelValue":a[1]||(a[1]=e=>o.filters.price.min=e),min:o.priceRange.min,max:o.filters.price.max,placeholder:"Мін.",class:"input-range"},null,8,u),[[r.Jo,o.filters.price.min,void 0,{number:!0}]]),(0,i.bo)((0,i.Lk)("input",{type:"number","onUpdate:modelValue":a[2]||(a[2]=e=>o.filters.price.max=e),min:o.filters.price.min,max:o.priceRange.max,placeholder:"Макс.",class:"input-range"},null,8,m),[[r.Jo,o.filters.price.max,void 0,{number:!0}]])]),(0,i.Lk)("span",p,(0,t.v_)(o.filters.price.min)+" - "+(0,t.v_)(o.filters.price.max)+" грн",1)]),(0,i.Lk)("label",null,[a[14]||(a[14]=(0,i.eW)(" Мова видання: ")),(0,i.bo)((0,i.Lk)("select",{"onUpdate:modelValue":a[3]||(a[3]=e=>o.filters.language=e)},[a[13]||(a[13]=(0,i.Lk)("option",{value:""},"Всі",-1)),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o.languages,((e,a)=>((0,i.uX)(),(0,i.CE)("option",{key:a,value:a},(0,t.v_)(e),9,c)))),128))],512),[[r.u1,o.filters.language]])]),(0,i.Lk)("label",null,[a[16]||(a[16]=(0,i.eW)(" Автор: ")),(0,i.bo)((0,i.Lk)("select",{"onUpdate:modelValue":a[4]||(a[4]=e=>o.filters.author=e)},[a[15]||(a[15]=(0,i.Lk)("option",{value:""},"Всі",-1)),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o.authors,((e,a)=>((0,i.uX)(),(0,i.CE)("option",{key:a,value:a},(0,t.v_)(e),9,f)))),128))],512),[[r.u1,o.filters.author]])]),(0,i.Lk)("label",null,[a[18]||(a[18]=(0,i.eW)(" Рейтинг книги: ")),(0,i.bo)((0,i.Lk)("select",{"onUpdate:modelValue":a[5]||(a[5]=e=>o.filters.rating=e)},[a[17]||(a[17]=(0,i.Lk)("option",{value:""},"Всі",-1)),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o.ageRatings,(e=>((0,i.uX)(),(0,i.CE)("option",{key:e,value:e},(0,t.v_)(e)+"+",9,d)))),128))],512),[[r.u1,o.filters.rating]])]),(0,i.Lk)("label",null,[a[19]||(a[19]=(0,i.eW)(" Кількість сторінок: ")),(0,i.Lk)("div",null,[(0,i.bo)((0,i.Lk)("input",{type:"number","onUpdate:modelValue":a[6]||(a[6]=e=>o.filters.pages.min=e),min:o.pagesRange.min,max:o.filters.pages.max,placeholder:"Мін.",class:"input-range"},null,8,v),[[r.Jo,o.filters.pages.min,void 0,{number:!0}]]),(0,i.bo)((0,i.Lk)("input",{type:"number","onUpdate:modelValue":a[7]||(a[7]=e=>o.filters.pages.max=e),min:o.filters.pages.min,max:o.pagesRange.max,placeholder:"Макс.",class:"input-range"},null,8,_),[[r.Jo,o.filters.pages.max,void 0,{number:!0}]])]),(0,i.Lk)("span",k,(0,t.v_)(o.filters.pages.min)+" - "+(0,t.v_)(o.filters.pages.max)+" стор.",1)]),(0,i.Lk)("label",null,[a[21]||(a[21]=(0,i.eW)(" Сортувати за новинками: ")),(0,i.bo)((0,i.Lk)("select",{"onUpdate:modelValue":a[8]||(a[8]=e=>o.filters.sort=e)},a[20]||(a[20]=[(0,i.Lk)("option",{value:"DESC"},"Найновіші спочатку",-1),(0,i.Lk)("option",{value:"ASC"},"Найстаріші спочатку",-1)]),512),[[r.u1,o.filters.sort]])]),(0,i.Lk)("button",{onClick:a[9]||(a[9]=(...e)=>o.applyFilters&&o.applyFilters(...e))},"Застосувати фільтри")]),(0,i.Lk)("div",h,[a[23]||(a[23]=(0,i.Lk)("h2",null,"Пошук - TOP 10",-1)),o.loadingBook?((0,i.uX)(),(0,i.CE)("div",b,"Loading search")):((0,i.uX)(),(0,i.CE)("div",y,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o.searchBooks,(e=>((0,i.uX)(),(0,i.CE)("div",{key:e.id,class:"book-item"},[(0,i.Lk)("img",{src:e.img,alt:e.name,class:"book-img"},null,8,L),(0,i.Lk)("div",null,[(0,i.Lk)("h3",null,(0,t.v_)(e.name),1),(0,i.Lk)("p",null,"Автор: "+(0,t.v_)(e.authors.join(", ")),1),(0,i.Lk)("p",null,"Жанр: "+(0,t.v_)(e.genres.join(", ")),1),(0,i.Lk)("p",null,"Мова: "+(0,t.v_)(e.lang),1),(0,i.Lk)("p",E,(0,t.v_)(e.age_rating)+"+",1),(0,i.Lk)("p",j,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.rating,(e=>((0,i.uX)(),(0,i.CE)("img",{key:e,src:"images/icon-star.png",alt:"rating",class:"rating"})))),128))]),(0,i.Lk)("p",null,"Ціна: "+(0,t.v_)(e.cost)+" грн",1),(0,i.Lk)("p",null,"Кількість сторінок : "+(0,t.v_)(e.number_of_page),1),(0,i.Lk)("p",null,"Рік: "+(0,t.v_)(e.year),1)])])))),128))]))]),(0,i.Lk)("div",x,[a[24]||(a[24]=(0,i.Lk)("h2",null,"Рекомендаціі - TOP 10",-1)),o.loadingBook?((0,i.uX)(),(0,i.CE)("div",C,"Loading recommended")):((0,i.uX)(),(0,i.CE)("div",R,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o.recommendedBooks,(e=>((0,i.uX)(),(0,i.CE)("div",{key:e.id,class:"book-item"},[(0,i.Lk)("img",{src:e.img,alt:e.name,class:"book-img"},null,8,w),(0,i.Lk)("div",null,[(0,i.Lk)("h3",null,(0,t.v_)(e.name),1),(0,i.Lk)("p",null,"Автор: "+(0,t.v_)(e.authors.join(", ")),1),(0,i.Lk)("p",null,"Жанр: "+(0,t.v_)(e.genres.join(", ")),1),(0,i.Lk)("p",null,"Мова: "+(0,t.v_)(e.lang),1),(0,i.Lk)("p",K,(0,t.v_)(e.age_rating)+"+",1),(0,i.Lk)("p",T,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.rating,(e=>((0,i.uX)(),(0,i.CE)("img",{key:e,src:"images/icon-star.png",alt:"rating",class:"rating"})))),128))]),(0,i.Lk)("p",null,"Ціна: "+(0,t.v_)(e.cost)+" грн",1),(0,i.Lk)("p",null,"Кількість сторінок: "+(0,t.v_)(e.number_of_page),1),(0,i.Lk)("p",null,"Рік: "+(0,t.v_)(e.year),1)])])))),128))]))])])],64)}var X=JSON.parse('{"wN":{"11":"Проза","12":"Містичний детектив"},"mC":[0,6,12,16,18],"cy":{"17":"Шикін Павло","18":"Жадан Сергій","19":"Павлюк Ілларіон","20":"Netley Rebecca"},"y":{"j":120,"T":648},"TK":{"j":128,"T":680},"vV":{"49":"Українська","50":"English"}}'),F=JSON.parse('{"$":[{"id":63,"name":"Розриті могили","lang":"Українська","age_rating":16,"rating":5,"cost":245,"number_of_page":480,"year":2024,"genres":["Проза"],"img":"images/dug_up_graves.jpg","authors":["Шикін Павло"]},{"id":65,"name":"Інтернат","lang":"Українська","age_rating":12,"rating":5,"cost":345,"number_of_page":336,"year":2024,"genres":["Проза"],"img":"images/internat.jpg","authors":["Жадан Сергій"]},{"id":66,"name":"Арабески","lang":"Українська","age_rating":6,"rating":5,"cost":237,"number_of_page":136,"year":2024,"genres":["Проза"],"img":"images/arabesky.jpg","authors":["Жадан Сергій"]},{"id":69,"name":"Ворошиловград","lang":"Українська","age_rating":12,"rating":5,"cost":120,"number_of_page":320,"year":2018,"genres":["Проза"],"img":"images/vorosh.jpg","authors":["Жадан Сергій"]},{"id":72,"name":"Після третього дзвінка вхід до зали забороняється","lang":"Українська","age_rating":6,"rating":5,"cost":346,"number_of_page":416,"year":2017,"genres":["Проза"],"img":"images/zal.jpg","authors":["Забужко Оксана"]},{"id":68,"name":"Гімн демократичної молоді","lang":"Українська","age_rating":6,"rating":4,"cost":270,"number_of_page":240,"year":2023,"genres":["Проза"],"img":"images/gimn.jpg","authors":["Жадан Сергій"]},{"id":71,"name":"Найдовша подорож","lang":"Українська","age_rating":6,"rating":4,"cost":140,"number_of_page":168,"year":2022,"genres":["Проза"],"img":"images/travel.jpg","authors":["Забужко Оксана"]},{"id":67,"name":"Месопотамія","lang":"Українська","age_rating":6,"rating":3,"cost":360,"number_of_page":456,"year":2022,"genres":["Проза"],"img":"images/mes.jpg","authors":["Жадан Сергій"]},{"id":64,"name":"Жерстяні сурмачі","lang":"Українська","age_rating":16,"rating":2,"cost":356,"number_of_page":128,"year":2024,"genres":["Проза"],"img":"images/surmachi.png","authors":["Шикін Павло"]},{"id":74,"name":"Your Ad Could Go Here: Stories","lang":"English","age_rating":12,"rating":2,"cost":583,"number_of_page":252,"year":2020,"genres":["Проза"],"img":"images/here.jpg","authors":["Забужко Оксана"]}],"v":[{"id":70,"name":"Музей покинутих секретів","lang":"Українська","age_rating":6,"rating":5,"cost":326,"number_of_page":832,"year":2015,"genres":["Проза"],"img":"images/secret.jpg","authors":["Забужко Оксана"]},{"id":78,"name":"The Black Feathers","lang":"English","age_rating":6,"rating":5,"cost":648,"number_of_page":400,"year":2024,"genres":["Містичний детектив"],"img":"images/feathers.jpg","authors":["Netley Rebecca"]},{"id":82,"name":"Шпигунки з притулку Артемiда. Скарби богині","lang":"Українська","age_rating":6,"rating":5,"cost":210,"number_of_page":368,"year":2024,"genres":["Пригоди"],"img":"images/skarby.jpg","authors":["Довгопол Наталія"]},{"id":86,"name":"Harry Potter and the Prisoner of Azkaban","lang":"English","age_rating":6,"rating":5,"cost":458,"number_of_page":480,"year":2014,"genres":["Фентезі"],"img":"images/hp3.jpeg","authors":["Rowling Joanne"]},{"id":81,"name":"Шпигунки з притулку Артемiда. Колапс старого свiту","lang":"Українська","age_rating":6,"rating":4,"cost":170,"number_of_page":352,"year":2021,"genres":["Пригоди"],"img":"images/kolaps.jpg","authors":["Довгопол Наталія"]},{"id":89,"name":"Harry Potter and the Half-Blood Prince. Hufflepuff Edition","lang":"English","age_rating":6,"rating":4,"cost":697,"number_of_page":560,"year":2021,"genres":["Фентезі"],"img":"images/hp7.jpg","authors":["Rowling Joanne"]},{"id":85,"name":"Harry Potter and the Chamber of Secrets","lang":"English","age_rating":6,"rating":4,"cost":1926,"number_of_page":400,"year":2021,"genres":["Фентезі"],"img":"images/hp2.jpg","authors":["Rowling Joanne"]},{"id":87,"name":"Harry Potter and the Goblet of Fire (Ravenclaw Edition)","lang":"English","age_rating":6,"rating":4,"cost":570,"number_of_page":627,"year":2020,"genres":["Фентезі"],"img":"images/hp4.jpg","authors":["Rowling Joanne"]},{"id":91,"name":"A LA CROISEE DES MONDES LINTEGRALE","lang":"Français","age_rating":6,"rating":3,"cost":3369,"number_of_page":264,"year":2017,"genres":["Фентезі"],"img":"images/mondes.jpg","authors":["Pullman Philip"]},{"id":76,"name":"Білий попіл","lang":"Українська","age_rating":6,"rating":3,"cost":180,"number_of_page":352,"year":2018,"genres":["Містичний детектив"],"img":"images/whitep.jpg","authors":["Павлюк Ілларіон"]}]}'),P=n(144),B={name:"BookFilter",setup(){const e=(0,P.KR)({genre:"",price:{min:X.y.j,max:X.y.T},language:"",author:"",rating:"",pages:{min:X.TK.j,max:X.TK.T},sort:"DESC"}),a=(0,P.KR)(null),n=(0,P.KR)(!0),r=(0,P.KR)(!1),o=(0,P.KR)(F.$),t=(0,P.KR)(F.v),l=async()=>{try{const e=await fetch("api/get_info");if(!e.ok)throw new Error(`HTTP ошибка: ${e.status}`);const n=await e.json();a.value=n}catch(e){console.log("error",e.message)}finally{n.value=!1}},g=async e=>{try{r.value=!0;const a=await fetch("api/get_books",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok)throw new Error(`HTTP ERROR: ${a.status}`);const{search:n,recommend:i}=await a.json();console.log("SEARCH, RECOMMEND:",n,i),o.value=n,t.value=i}catch(a){return console.log("ERROR:",a.message),null}finally{r.value=!1}},s=(0,P.KR)(X.wN),u=(0,P.KR)(X.cy),m=(0,P.KR)(X.vV),p=(0,P.KR)(X.mC),c=(0,P.Kh)({min:X.y.j,max:X.y.T}),f=(0,P.Kh)({min:X.TK.j,max:X.TK.T});(0,i.wB)(a,(e=>{e&&(console.log(e,"NEW"),s.value=e.genre,u.value=e.author,m.value=e.lang,p.value=e.age_rating,c.min=e.cost.min,c.max=e.cost.max,f.min=e.number_of_pages.min,f.max=e.number_of_pages.max)}));const d=()=>{console.log("фильтра:",e.value);let a={author_id:e.value.author,genre_id:e.value.genre,cost:{min:e.value.price.min,max:e.value.price.max},language_id:e.value.language,age_rating:e.value.rating,sort:e.value.sort,number_of_page:{min:e.value.pages.min,max:e.value.pages.max}};g(a)};return(0,i.sV)((async()=>{await l()})),{filters:e,genre:s,languages:m,authors:u,ageRatings:p,priceRange:c,pagesRange:f,applyFilters:d,searchBooks:o,recommendedBooks:t,dataBookFilter:a,loadingBook:r}}},S=n(1241);const V=(0,S.A)(B,[["render",O],["__scopeId","data-v-45f76d3e"]]);var I=V,J={name:"App",components:{Bookshelf:I}};const N=(0,S.A)(J,[["render",o]]);var A=N;(0,r.Ef)(A).mount("#app")}},a={};function n(r){var i=a[r];if(void 0!==i)return i.exports;var o=a[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(a,r,i,o){if(!r){var t=1/0;for(u=0;u<e.length;u++){r=e[u][0],i=e[u][1],o=e[u][2];for(var l=!0,g=0;g<r.length;g++)(!1&o||t>=o)&&Object.keys(n.O).every((function(e){return n.O[e](r[g])}))?r.splice(g--,1):(l=!1,o<t&&(t=o));if(l){e.splice(u--,1);var s=i();void 0!==s&&(a=s)}}return a}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[r,i,o]}}(),function(){n.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(a,{a:a}),a}}(),function(){n.d=function(e,a){for(var r in a)n.o(a,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:a[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){var e={524:0};n.O.j=function(a){return 0===e[a]};var a=function(a,r){var i,o,t=r[0],l=r[1],g=r[2],s=0;if(t.some((function(a){return 0!==e[a]}))){for(i in l)n.o(l,i)&&(n.m[i]=l[i]);if(g)var u=g(n)}for(a&&a(r);s<t.length;s++)o=t[s],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(u)},r=self["webpackChunkbook"]=self["webpackChunkbook"]||[];r.forEach(a.bind(null,0)),r.push=a.bind(null,r.push.bind(r))}();var r=n.O(void 0,[504],(function(){return n(9307)}));r=n.O(r)})();
//# sourceMappingURL=app.2607d199.js.map